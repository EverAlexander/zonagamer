<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>Menu principal</title>
    <style>
        body {
            background: linear-gradient(to right, #0f2027, #203a43, #2c5364);
            font-family: 'Nunito', sans-serif;
            color: #fff;
        }

        .slot-machine {
            display: flex;
            justify-content: center;
            margin: 40px auto;
        }

        .slot {
            width: 120px;
            height: 120px;
            margin: 0 10px;
            border: 5px solid #ffc107;
            border-radius: 15px;
            background: #111;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 0 15px #ffc107;
            transition: transform 0.2s;
        }

        .slot img {
            width: 100px;
            height: 100px;
            transition: transform 0.2s;
        }

        #btn {
            padding: 15px 30px;
            font-size: 18px;
            margin-top: 20px;
            cursor: pointer;
            border: none;
            background: #ffc107;
            color: #111;
            border-radius: 12px;
            font-weight: bold;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
            transition: transform 0.2s, background 0.3s;
        }

        #btn:hover {
            transform: scale(1.05);
            background: #ffca28;
        }

        #resultado {
            margin-top: 20px;
            font-size: 24px;
            text-align: center;
            text-shadow: 0 0 10px #ffc107;
        }
    </style>
</head>

<body>
    <div class="slot-machine">
        <div class="slot"><img id="slot1" src="../imagenes/estrella012.png"></div>
        <div class="slot"><img id="slot2" src="../imagenes/hondo.png"></div>
        <div class="slot"><img id="slot3" src="../imagenes/flor.png"></div>
    </div>
    <div style="text-align:center;">
        <button id="btn">Iniciar</button>
        <h2 id="resultado"></h2>
    </div>

    <script>
        const imagenes = [
            "../imagenes/estrella012.png",
            "../imagenes/hondo.png",
            "../imagenes/moneda12.png",
            "../imagenes/flor.png"
        ];

        const slots = [
            document.getElementById("slot1"),
            document.getElementById("slot2"),
            document.getElementById("slot3")
        ];
        const resultado = document.getElementById("resultado");
        const btn = document.getElementById("btn");

        let turno = 0;
        let intervalos = [];
        let jugando = false;

        function iniciarGiro(slot, index) {
            intervalos[index] = setInterval(() => {
                slot.src = imagenes[Math.floor(Math.random() * imagenes.length)];
            }, 100);
        }

        function detenerGiro(index) {
            clearInterval(intervalos[index]);
            turno++;

            if (turno === slots.length) {
                const r1 = slots[0].src;
                const r2 = slots[1].src;
                const r3 = slots[2].src;

                if (r1 === r2 && r2 === r3) {
                    resultado.textContent = "ðŸŽ‰ Â¡Ganaste! ðŸŽ‰";
                } else {
                    resultado.textContent = "ðŸ˜… Intenta de nuevo";
                }

                // Cambiar botÃ³n a "Nueva Ronda"
                btn.textContent = "Nueva Ronda";
                jugando = false;
            }
        }

        btn.addEventListener("click", () => {
            if (!jugando) {
                // iniciar la ronda
                turno = 0;
                resultado.textContent = "";
                slots.forEach((slot, i) => iniciarGiro(slot, i));
                btn.textContent = "Detener";
                jugando = true;
            } else if (jugando && turno < slots.length) {
                // detener un slot por vez
                detenerGiro(turno);
            }
        });
    </script>
</body>

</html>
